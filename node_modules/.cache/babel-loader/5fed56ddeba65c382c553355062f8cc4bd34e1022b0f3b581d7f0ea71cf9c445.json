{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manyajain/Documents/foodvilla/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/manyajain/Documents/foodvilla/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/manyajain/Documents/foodvilla/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/manyajain/Documents/foodvilla/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';// import ReactDOM  from 'react-dom/client';\n// import { resturantlist } from './Config';\nimport ResturantCard from'./ResturantCard';import Shimmer from'./Shimmer';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{createElement as _createElement}from\"react\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function filterdata(searchtxt,searchresturants){return searchresturants.filter(function(resturant){var _resturant$data,_resturant$data$data;return(_resturant$data=resturant.data)===null||_resturant$data===void 0?void 0:(_resturant$data$data=_resturant$data.data)===null||_resturant$data$data===void 0?void 0:_resturant$data$data.name.toLowerCase().includes(searchtxt.toLowerCase());});}var Body=function Body(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchtxt=_useState2[0],setSearchtxt=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchresturants=_useState4[0],setsearchresturants=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),allResturants=_useState6[0],setallResturants=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];useEffect(function(){getResturants();},[]);function getResturants(){return _getResturants.apply(this,arguments);}function _getResturants(){_getResturants=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _json$data,_json$data2;var data,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://www.swiggy.com/dapi/restaurants/list/v5?lat=23.179683924526447&lng=79.93636887520552&offset=31&sortBy=RELEVANCE&pageType=SEE_ALL&page_type=DESKTOP_SEE_ALL_LISTING\");case 2:data=_context.sent;_context.next=5;return data.json();case 5:json=_context.sent;// console.log(json);\nsetsearchresturants(json===null||json===void 0?void 0:(_json$data=json.data)===null||_json$data===void 0?void 0:_json$data.cards);setallResturants(json===null||json===void 0?void 0:(_json$data2=json.data)===null||_json$data2===void 0?void 0:_json$data2.cards);case 8:case\"end\":return _context.stop();}},_callee);}));return _getResturants.apply(this,arguments);}var searchdata=function searchdata(searchtxt,searchresturants){if(searchtxt!==\"\"){var data=filterdata(searchtxt,searchresturants);setsearchresturants(data);setErrorMessage(\"\");if(data.length===0){setErrorMessage(\"No matches found\");}}else{setErrorMessage(\"\");setsearchresturants(searchresturants);}};if(!allResturants)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-input\",placeholder:\"Search\",value:searchtxt,onChange:function onChange(e){setSearchtxt(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"search-btn\",onClick:function onClick(){searchdata(searchtxt,allResturants);},children:\"Search\"})]}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"error-container\",children:errorMessage}),allResturants.length===0?/*#__PURE__*/_jsx(Shimmer,{}):/*#__PURE__*/_jsx(\"div\",{className:\"resturant-list\",children:searchresturants.map(function(resturant){var _resturant$data2,_resturant$data2$data,_resturant$data3,_resturant$data4,_resturant$data4$data;// debugger \nreturn/*#__PURE__*/_jsx(Link,{to:\"/resturants/\".concat((_resturant$data2=resturant.data)===null||_resturant$data2===void 0?void 0:(_resturant$data2$data=_resturant$data2.data)===null||_resturant$data2$data===void 0?void 0:_resturant$data2$data.id),children:/*#__PURE__*/_createElement(ResturantCard,_objectSpread(_objectSpread({},resturant===null||resturant===void 0?void 0:(_resturant$data3=resturant.data)===null||_resturant$data3===void 0?void 0:_resturant$data3.data),{},{key:(_resturant$data4=resturant.data)===null||_resturant$data4===void 0?void 0:(_resturant$data4$data=_resturant$data4.data)===null||_resturant$data4$data===void 0?void 0:_resturant$data4$data.id}))});})})]});};export default Body;","map":{"version":3,"names":["React","useEffect","useState","ResturantCard","Shimmer","Link","jsx","_jsx","jsxs","_jsxs","createElement","_createElement","Fragment","_Fragment","filterdata","searchtxt","searchresturants","filter","resturant","_resturant$data","_resturant$data$data","data","name","toLowerCase","includes","Body","_useState","_useState2","_slicedToArray","setSearchtxt","_useState3","_useState4","setsearchresturants","_useState5","_useState6","allResturants","setallResturants","_useState7","_useState8","errorMessage","setErrorMessage","getResturants","_getResturants","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_json$data","_json$data2","json","wrap","_callee$","_context","prev","next","fetch","sent","cards","stop","searchdata","length","children","className","type","placeholder","value","onChange","e","target","onClick","map","_resturant$data2","_resturant$data2$data","_resturant$data3","_resturant$data4","_resturant$data4$data","to","concat","id","_objectSpread","key"],"sources":["/Users/manyajain/Documents/foodvilla/src/components/Body.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n// import ReactDOM  from 'react-dom/client';\n// import { resturantlist } from './Config';\nimport ResturantCard from './ResturantCard';\nimport Shimmer from './Shimmer';\nimport { Link } from 'react-router-dom';\n  \nfunction filterdata(searchtxt, searchresturants){\n     return (searchresturants.filter((resturant) => resturant.data?.data?.name.toLowerCase().includes(searchtxt.toLowerCase())));\n}\n \nconst Body =() =>{\n\nconst [searchtxt, setSearchtxt] = useState(\"\");\nconst [searchresturants, setsearchresturants] = useState([]);\nconst [allResturants, setallResturants] = useState([]);\nconst [errorMessage, setErrorMessage] = useState(\"\");\n\n\n\nuseEffect(()=>{\n    getResturants();\n}, []);\n\nasync function getResturants() {\n    const data = await fetch(\"https://www.swiggy.com/dapi/restaurants/list/v5?lat=23.179683924526447&lng=79.93636887520552&offset=31&sortBy=RELEVANCE&pageType=SEE_ALL&page_type=DESKTOP_SEE_ALL_LISTING\");\n    const json = await data.json();\n    // console.log(json);\n    setsearchresturants(json?.data?.cards); \n    setallResturants(json?.data?.cards);\n}\n\nconst searchdata = (searchtxt, searchresturants) =>{\n    if(searchtxt!==\"\"){\n        const data= filterdata(searchtxt,searchresturants);\n        setsearchresturants(data);\n        setErrorMessage(\"\");\n        if(data.length === 0){\n            setErrorMessage(\"No matches found\");\n        }}else {\n            setErrorMessage(\"\");\n            setsearchresturants(searchresturants);\n        }\n    }; \n\n    if(!allResturants) return null;\n    return (\n        <>\n        <div className='search-container'>\n            <input type='text' className='search-input' placeholder='Search' value={searchtxt} onChange={(e) => {setSearchtxt(e.target.value)}}/>\n            <button className='search-btn' onClick={() => {\n               searchdata(searchtxt, allResturants);\n               \n            }}>Search</button>  \n        </div>\n        {errorMessage && <div className=\"error-container\">{errorMessage}</div>}\n\n       {\n        (allResturants.length === 0)?<Shimmer/>:<div className='resturant-list'>\n         {searchresturants.map((resturant) => {\n        // debugger \n        return (<Link to= {`/resturants/${resturant.data?.data?.id}`}>\n            <ResturantCard {...resturant?.data?.data} key = {resturant.data?.data?.id}/></Link>);\n      })}\n    </div> }</>\n    )\n  };\n\n  export default Body; "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}